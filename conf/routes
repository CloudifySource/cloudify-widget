# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~
POST     /widget/description            controllers.WidgetAdmin.postWidgetDescription(authToken:String, widgetId:Long, description:String ?="")
POST     /widget/requireLogin            controllers.WidgetAdmin.postRequireLogin(authToken:String, widgetId:Long, requireLogin:Boolean, loginVerificationUrl:String ?="", webServicePrivateKey:String?="")
GET     /exportSchema                   controllers.Application.generateDDL
GET     /javascriptRoutes               controllers.Application.javascriptRoutes


#Demos
GET     /demos/loginWithGoogle           controllers.Demos.loginWithGoogle
GET     /demos/googleLoginCallback       controllers.Demos.googleLoginCallback
GET     /demos/embedded/:email           controllers.DemosController.getEmbeddedDemoPage( email:String )
GET     /demos/:userId/list              controllers.DemosController.listWidgetForDemoUser( userId:Long )
GET     /demos/:userId/:apiKey           controllers.DemosController.getDemoPageForWidget( userId:Long, apiKey:String )
GET     /demos/:email                    controllers.DemosController.getDemoPageForUser( email:String )
POST    /demos/verifyWidgetLogin         controllers.Demos.validateUserIdFromLogin(userId:String)
GET     /api/demo/widget/list           controllers.DemosController.listWidgetForDemoUserByEmail( email: String )

#Backend
GET 	 /backend/getConf           	controllers.Application.getConf( name : String )

# Widget
POST     /widget/start		     	    controllers.Application.start( apiKey: String, userId:String?="" )
POST     /widget/:instanceId/stop	    controllers.Application.stop( apiKey: String, instanceId: String)
GET      /widget/:instanceId/status     controllers.Application.getWidgetStatus( apiKey: String, instanceId: String )
GET      /widget/:instanceId/pem        controllers.Application.downloadPemFile( instanceId:String )
GET     /encrypt                        controllers.Application.encrypt( data:String )
GET     /decrypt                        controllers.Application.decrypt( data:String )


# User API
POST   /api/user/:userId/lead                                       controllers.LeadsController.postLead( userId:String, authToken:String )
GET    /api/user/:userId/lead/list                                  controllers.LeadsController.getLeads( userId:String, authToken:String )
GET    /api/user/:userId/lead/:email                                controllers.LeadsController.getLead( userId:String, authToken:String, email:String )
POST    /api/user/:userId/lead/:leadId/validate                      controllers.LeadsController.confirmEmail( userId:String, authToken:String, leadId:Long, confirmationCode:String )
GET     /api/admin/:userId/lead/list                                controllers.LeadsController.getAdminLeads( userId:String, authToken:String )
POST    /api/user/:userId/lead/:leadId/prolong/:instanceId          controllers.LeadsController.assignLeadToWidgetInstance( userId:String , authToken:String , leadId:Long , instanceId:Long )

GET     /api/user/:userId/widgets                                   controllers.WidgetAdmin.listWidgets( userId:Long, authToken:String )


# Admin API
GET     /user/widgetsTemplate           controllers.WidgetAdmin.getUserWidgetTemplate
GET     /admin/checkPasswordStrength    controllers.WidgetAdmin.checkPasswordStrength( password:String,  email:String )
GET     /admin/passwordStrength         controllers.WidgetAdmin.getPasswordMatch( authToken:String, password:String)
POST    /admin/changePassword           controllers.WidgetAdmin.postChangePassword( authToken:String, oldPassword:String, newPassword:String, confirmPassword:String )
POST     /admin/resetPassword           controllers.WidgetAdmin.postResetPassword( email:String, h:String )
GET      /admin/resetPasswordAction     controllers.WidgetAdmin.resetPasswordAction( p:String, pi:Long)
GET      /admin/signup                  controllers.WidgetAdmin.getSignupPage
GET     /admin/account                  controllers.WidgetAdmin.getAccountPage
GET      /admin/resetPassword           controllers.WidgetAdmin.getResetPasswordPage
GET      /admin/signin                  controllers.WidgetAdmin.getSigninPage( message:String ?= null )
GET      /admin/widgets                 controllers.WidgetAdmin.getWidgetsPage
GET      /user/widgets                  controllers.WidgetAdmin.newWidgetsPage
GET      /admin/logout                  controllers.WidgetAdmin.logout
POST     /signin	     		     	controllers.WidgetAdmin.signIn( email: String, password: String )
POST     /signup      		     		controllers.WidgetAdmin.signUp( email: String, passwordConfirmation: String, password: String, firstname: String, lastname: String  )
POST     /widget/regenerate	   			controllers.WidgetAdmin.regenerateWidgetApiKey( authToken: String, apiKey: String )
POST     /widget/:instanceId/shutdown	controllers.WidgetAdmin.shutdownInstance( authToken: String, instanceId: String )
POST     /widget/disable				controllers.WidgetAdmin.disableWidget( authToken: String, apiKey: String )
POST     /widget/enable 				controllers.WidgetAdmin.enableWidget( authToken: String, apiKey: String )
GET      /user/list	   					controllers.WidgetAdmin.getAllUsers( authToken: String )
POST     /widget/new              	    controllers.WidgetAdmin.createNewWidget( widgetId:String ?= null, authToken: String, productName: String, productVersion: String, title: String, youtubeVideoUrl: String, providerURL: String, recipeURL: String, consolename: String, consoleurl: String, rootpath:String, recipeName:String, consoleUrlService:String )
POST     /widget/edit                   controllers.WidgetAdmin.postWidget
GET      /widget/list 					controllers.WidgetAdmin.getAllWidgets( authToken: String )
POST    /widget/delete                  controllers.WidgetAdmin.deleteWidget( authToken:String, apiKey:String )

GET     /widget/previewWidget           controllers.WidgetAdmin.previewWidget( apiKey:String )
GET     /widget/icon                    controllers.WidgetAdmin.icon( apiKey: String)
GET     /server/headers               	controllers.WidgetAdmin.headers
GET     /widget/widget                  controllers.WidgetAdmin.getWidget( apiKey:String )
GET     /widget/:apiKey/public          controllers.WidgetAdmin.getPublicWidgetDetails( apiKey : String )
GET     /widget/single/:apiKey          controllers.WidgetAdmin.getWidgetSinglePage( apiKey:String )
GET     /widget/login/google/callback/:widgetKey   controllers.WidgetGoogleLoginController.googleLoginCallback( widgetKey:String )
GET     /widget/login/google                controllers.WidgetGoogleLoginController.loginWithGoogle( widgetKey: String )
GET     /widget/login/custom            controllers.Assets.at(path="/public/cloudify/pages/logins",file="custom.html")
POST    /widget/login/custom            controllers.WidgetCustomLoginController.customLogin( widgetKey: String )


POST     /admin/pool/manage/add                          controllers.AdminPoolController.addNode( authToken:String )
POST     /admin/pool/manage/:nodeId/remove               controllers.AdminPoolController.removeNode( authToken:String, nodeId:String )
GET     /admin/pool/manage/:nodeId/check                controllers.AdminPoolController.checkAvailability( authToken:String, nodeId:String )
GET     /admin/pool/manage                              controllers.AdminPoolController.index
GET     /admin/pool/manage/nodes                        controllers.AdminPoolController.getServerNodes( authToken :String)
GET     /admin/pool/manage/instance                     controllers.AdminPoolController.getWidgetInstances( authToken :String)
GET     /admin/pool/manage/machines                     controllers.AdminPoolController.getCloudServers( authToken :String)
GET     /admin/pool/manage/statuses                     controllers.AdminPoolController.getStatuses( authToken :String)
GET     /admin/pool/manage/events                       controllers.AdminPoolController.poolEvents( authToken: String )

GET     /admin/pool/summary             controllers.AdminPoolController.summary( authToken :String)

#GET     /user/pool/manage              controllers.UserPoolController.getServerNodePoolPage( authToken:String, project:String, key:String, secretKey:String)
#GET     /user/pool/manage/list         controllers.UserPoolController.getAllServers
#GET     /user/pool/summary             controllers.UserPoolController.summary

GET     /getInjectedScript              controllers.Application.getInjectScript( publicIp:String?="1.1.1.1", privateIp:String?="2.2.2.2" )

GET     /embed/img/:apiKey              controllers.WidgetAdmin.embedImage( apiKey: String)                  

# Map static resources from the /public folder to the /assets URL path
GET     /recipes/*file      	   		controllers.Assets.at(path="/public/recipes", file)
GET     /public/*file  		     	    controllers.Assets.at(path="/public/cloudify", file)
GET     /assets/*file             	    controllers.Assets.at(path="/public", file)
GET     /d                              controllers.DemosController.getDemoPageForUser(email="default_demo@gigaspaces.com")
GET     /*file        		     	    controllers.Assets.at(path="/public/cloudify", file)






GET     /                               controllers.WidgetAdmin.index
